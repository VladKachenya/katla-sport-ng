<div class="container">
    <h4>Boss</h4>
    <div class="row" *ngIf='bossExisted'>
        <div class="form-group m-2">
            <span style="font-weight: bold;">ID: {{boss.id}} </span>
            <span>Name: {{boss.fullName}}, </span>
            <span>Email: {{boss.email}}, </span>
            <span>Position: {{boss.position}}.</span>
        </div>
        <div class="btn-group mr-0">
            <button routerLink="/employee/{{boss.id}}" type="button" class="btn btn-primary">View
                profile</button>
        </div>
    </div>
    <h2>Employee profile</h2>
    <div class="row">
        <form (ngSubmit)="onSubmit()" #employeeProfileForm="ngForm" class="col-6">
            <div class="form-group" *ngIf='existed'>
                <label for="idLabel">ID</label>
                <input type="text" class="form-control" id="id" aria-describedby="idLabel" [(ngModel)]="employee.id"
                    name="id" #id="ngModel" readonly />
            </div>
            <div class="form-group">
                <label for="fullName" id="fullNameLabel">Employee full name</label>
                <input type="text" class="form-control" id="fullName" aria-describedby="fullNameLabel" required
                    [(ngModel)]="employee.fullName" name="fullName" #fullName="ngModel" />
            </div>
            <div class="form-group">
                <label for="position" id="positionLabel">Employee position</label>
                <input type="text" class="form-control" id="position" aria-describedby="positionLabel" minlength="4"
                    required [(ngModel)]="employee.position" name="position" #position="ngModel" />
                <div *ngIf="position.invalid && (position.dirty || position.touched)" class="alert alert-danger">
                    <div *ngIf="position.errors.required">Employee position is required.</div>
                    <div *ngIf="position.errors.minlength">Employee position must be at least 4 characters long.</div>
                </div>
            </div>
            <div class="form-group">
                <label for="email" id="emailLabel">Employee email</label>
                <input type="text" class="form-control" id="email" aria-describedby="emailLabel" minlength="4" required
                    [(ngModel)]="employee.email" name="email" #email="ngModel" />
                <div *ngIf="email.invalid && (email.dirty || email.touched)" class="alert alert-danger">
                    <div *ngIf="email.errors.required">Employee name is required.</div>
                    <div *ngIf="email.errors.minlength">Employee name must be at least 4 characters long.</div>
                </div>
            </div>
            <div class="form-group">
                <label for="workPlaceAddress" id="workPlaceAddressLabel">Employee work place</label>
                <input type="text" class="form-control" id="workPlaceAddress" aria-describedby="workPlaceAddressLabel"
                    minlength="4" required [(ngModel)]="employee.workPlaceAddress" name="workPlaceAddress"
                    #workPlaceAddress="ngModel" />
                <div *ngIf="workPlaceAddress.invalid && (workPlaceAddress.dirty || workPlaceAddress.touched)"
                    class="alert alert-danger">
                    <div *ngIf="workPlaceAddress.errors.required">Employee work place address is required.</div>
                    <div *ngIf="workPlaceAddress.errors.minlength">Employee work place address must be at least 4
                        characters long.</div>
                </div>
            </div>
            <div class="btn-group mr-2" role="group" aria-label="Submit group">
                <input type="submit" class="btn btn-primary" value="Save">
            </div>
            <div class="btn-group mr-2" role="group" aria-label="Back group" (click)="navigateToHives()">
                <button routerLink="/employees" type="button" class="btn btn-danger">Back</button>
            </div>
            <!-- <div class="form-group">
        <label for="code" id="codeLabel">Hive Code</label>
        <input type="text" class="form-control" id="code" aria-describedby="codeLabel" minlength="5" maxlength="5" required [(ngModel)]="hive.code"
          name="code" #code="ngModel">
        <div *ngIf="code.invalid && (code.dirty || code.touched)" class="alert alert-danger">
          <div *ngIf="code.errors.required">Hive code is required.</div>
          <div *ngIf="code.errors.minlength || code.errors.maxlength">Hive code must be 5 characters long.</div>
        </div>
      </div>
      <div class="form-group">
        <label for="address" id="addressLabel">Hive Address</label>
        <input type="text" class="form-control" id="address" aria-describedby="addressLabel" maxlength="300" required [(ngModel)]="hive.address"
          name="address" #address="ngModel">
        <div *ngIf="address.invalid && (address.dirty || address.touched)" class="alert alert-danger">
          <div *ngIf="address.errors.required">Hive address is required.</div>
          <div *ngIf="address.errors.maxlength">Hive address must be 300 characters long.</div>
        </div>
      </div>
      <div class="form-group" *ngIf='existed'>
        <label for="lastUpdated" id="lastUpdatedLabel">Last Update</label>
        <input type="text" class="form-control" id="lastUpdated" aria-describedby="lastUpdatedLabel" required [(ngModel)]="hive.lastUpdated"
          name="lastUpdated" #lastUpdated="ngModel" readonly>
      </div>
      <div class="form-group">
          <div class="btn-group mr-2" role="group" aria-label="Purge group" *ngIf="!existed" (click)="onPurge()">
              <button type="button" class="btn btn-danger">Purge</button>
          </div>
          <div class="btn-group mr-2" role="group" aria-label="Undelete group" *ngIf="existed" (click)="onUndelete()">
              <button type="button" class="btn btn-danger">Undelete</button>
          </div>
          <div class="btn-group mr-2" role="group" aria-label="Delete group" *ngIf="existed" (click)="onDelete()">
              <button type="button" class="btn btn-danger" [disabled]="!hive.isDeleted">Delete</button>
          </div>
          <div class="btn-group mr-2" role="group" aria-label="Back group" (click)="navigateToHives()">
              <button type="button" class="btn btn-danger">Back</button>
          </div>
      </div> -->
        </form>
        <div class="col-6" style="overflow: hidden; height: 400px;">
            <img src="https://klike.net/uploads/posts/2019-01/1547367999_1.jpg" />
        </div>
    </div>
    <h4>Subordinate employees</h4>
    <table class="table table-nonfluid">
        <thead>
            <th scope="col">#</th>
            <th scope="col">Name</th>
            <th scope="col">Position</th>
            <th scope="col"></th>
        </thead>
        <tbody>
            <tr *ngFor="let employee of subordinateEmployees">
                <th scope="row">{{employee.id}}</th>
                <td>{{employee.fullName}}</td>
                <td>{{employee.position}}</td>
                <td>
                    <span class="btn-toolbar" role="toolbar" aria-label="Hive action buttons"
                        style="display: block; white-space:nowrap;">
                        <div class="btn-group mr-0" role="group" aria-label="View group">
                            <button routerLink="/employee/{{employee.id}}" type="button" class="btn btn-primary">View
                                profile</button>
                        </div>
                    </span>
                </td>
            </tr>
        </tbody>
    </table>
</div>